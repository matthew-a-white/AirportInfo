<!DOCTYPE html>

<html manifest="test.appcache">
  <title>Airport Data</title>
  
  <p style="font-size: 30pt; text-align: center; top: 25vh; left: 25vw; max-width: 50vw; position: relative;" id="airport">Airport Name</p>

  <div id="info" style="top: 20vh; position: relative;">THIS SHOULD BE REPLACED WITH DATA</div>

  <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.12.2/jquery.min.js"></script>
  <script>

    var details, allAirports, inputID, inputIndex, checkpointID, airportNameStart, airportNameEnd, airportName; 
    var nextAirportIndex, checkpointIndexStart, checkpointIndexEnd;

    inputID = "ATL";

    var waitTimes = ["No wait", "1-10 min", "11-20 min", "21-30 min", "31+ min"];
    var checkpointNames = [];

  	$.getJSON("http://apps.tsa.dhs.gov/MyTSAWebService/GetWaitTimes.ashx?ap=ATL&output=json", function(json) {
		details = json;
  	}); 	

  	var xhttp = new XMLHttpRequest();
  	xhttp.open("GET", "https://www.tsa.gov/data/apcp.xml", false);
  	xhttp.send();
  	allAirports = xhttp.responseXML;
  	
  	var airportList = allAirports.getElementsByTagName("airport");
	
  	for(var i = 0; i < airportList.length; i++) {
  		if(airportList[i].childNodes[1].innerHTML == inputID) {
  	  		for(var j = 0; j < airportList[i].getElementsByTagName("checkpoints")[0].getElementsByTagName("checkpoint").length; j++) {
  				checkpointNames.push(airportList[i].getElementsByTagName("checkpoints")[0].getElementsByTagName("checkpoint")[j].childNodes[1].innerHTML);  			
  			}
  		}
  	} 

  	console.log(checkpointNames);

  </script>
  
  <style>
  	body { background-color: #E2E3E5; }

  </style>
</html>
